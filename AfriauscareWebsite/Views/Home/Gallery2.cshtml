@model IEnumerable<Afriauscare.BusinessLayer.Gallery.GalleryModel>

@{
    ViewBag.Title = "Gallery";
}
<script src="~/Scripts/jquery-3.7.0.min.js"></script>

<br />
<br />
<br />
<main id="main">
    <section id="featured" class="featured">
           <div class="container">
               <div class="row">
                   @foreach (var item in Model)
                   {
                       <input type="hidden" id="title-@item.GalleryId" />
                       <div class="col-sm-3">
                           <div class="card">
                               <img class="card-img-top img-fluid" src="data:image/jpg;base64,@Convert.ToBase64String(item.DefaultImage)" alt="Card image cap" style="width: 30rem; height: 15rem;">
                               <div class="card-body">
                                   <h5 class="card-title">@item.GalleryTitle</h5>
                                   <p class="card-text">@item.GalleryDescription</p>
                                   @Html.ActionLink("View Pictures", "ViewPictures","Home", new { GalleryId = item.GalleryId }, new { @class = "btn-get-started animate__animated" })
                               </div>
                           </div>
                           <br />
                       </div>
                   }
               </div>
           </div>
    </section>
</main>

<div id="showmodal" class="modal fade" tabindex="-1" role="dialog">
    <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">

    </div>
</div>

<script>
    $(".ViewMorePictures").click(function () {
        var id = this.id;
        id = id.replace('ViewMorePictures-', '');
        $.ajax({
            url: "@Url.Action("ViewGalleryContent", "Gallery")",
            data: { galleryId: id},
            success: function (data) {
                $("#showmodal .modal-dialog").html(data);
                $("#showmodal").modal("show");
            }
        });
    });

</script>



